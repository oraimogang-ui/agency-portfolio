<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Reactor | Craden Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #00FF00;
            overflow: hidden;
        }

        #canvas-container {
            cursor: default;
        }

        .glassmorphic {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        @keyframes loading {
            0% {
                width: 0%;
            }

            50% {
                width: 100%;
            }

            100% {
                width: 0%;
            }
        }
    </style>
</head>

<body class="antialiased">

    <!-- Cinematic Preloader -->
    <div id="reactor-preloader" class="fixed inset-0 bg-black z-[100] flex flex-col items-center justify-center">
        <div class="text-[#00FF00] font-mono text-xs tracking-[0.3em] animate-pulse mb-2">
            INITIALIZING NEURAL LINK...
        </div>
        <div class="w-32 h-0.5 bg-green-900 mt-4 overflow-hidden rounded-full">
            <div class="h-full bg-[#00FF00] animate-[loading_2s_ease-in-out_infinite]"
                style="width: 0%; animation: loading 2s ease-in-out infinite;"></div>
        </div>
        <div class="text-[#00FF00]/50 font-mono text-[10px] tracking-widest mt-6">
            SYSTEM STATUS: BOOTING
        </div>
    </div>

    <!-- Three.js Canvas Container -->
    <div id="canvas-container" class="fixed inset-0 z-0"></div>

    <!-- Exit Button -->
    <a href="index.html"
        class="fixed top-6 right-6 z-20 px-4 py-2 border border-white/20 text-white/50 text-xs tracking-widest rounded hover:border-[#00FF00] hover:text-[#00FF00] transition-all">
        ← EXIT
    </a>

    <!-- Status Overlay -->
    <div class="fixed top-6 left-6 z-10">
        <div class="text-[#00FF00] font-mono text-xs tracking-widest" id="status-text">
            SYSTEM STATUS: UNSTABLE
        </div>
        <div class="text-white/50 font-mono text-xs tracking-widest mt-2" id="timer-text">
            TIME: 0.00s
        </div>
        <div class="text-white/50 font-mono text-xs tracking-widest mt-2" id="reward-text">
            REWARD: ???
        </div>
    </div>

    <!-- Leaderboard (Mobile: Top-Left, Desktop: Bottom-Left) -->
    <div
        class="fixed top-24 left-6 p-4 border border-[#00FF00]/30 rounded-lg bg-black/50 backdrop-blur-md z-20 md:bottom-6 md:left-6 md:top-auto md:bg-black/70 md:backdrop-blur-xl md:border-white/10 w-48 md:w-64">
        <div class="text-[#00FF00] font-mono text-xs tracking-widest mb-3">LEADERBOARD</div>
        <div id="leaderboard" class="space-y-2 text-white/60 font-mono text-xs">
            <div class="text-white/30">No records yet...</div>
        </div>
    </div>

    <!-- Difficulty Selector (Right-Side Vertical Stack - All Screens) -->
    <div class="fixed right-6 top-1/2 -translate-y-1/2 flex flex-col gap-4 z-40 md:right-12">
        <button onclick="setDifficulty('easy')" id="diff-easy" data-difficulty="easy"
            class="px-6 py-2 text-xs tracking-widest bg-black/50 backdrop-blur-md border border-[#00FF00] text-[#00FF00] hover:bg-white/10 transition-colors rounded-full">
            EASY • 10%
        </button>
        <button onclick="setDifficulty('medium')" id="diff-medium" data-difficulty="medium"
            class="px-6 py-2 text-xs tracking-widest bg-black/50 backdrop-blur-md border border-white/20 text-white/50 hover:bg-white/10 transition-colors rounded-full">
            MEDIUM • 15%
        </button>
        <button onclick="setDifficulty('hard')" id="diff-hard" data-difficulty="hard"
            class="px-6 py-2 text-xs tracking-widest bg-black/50 backdrop-blur-md border border-white/20 text-white/50 hover:bg-white/10 transition-colors rounded-full">
            HARD • 20%
        </button>
    </div>



    <!-- Stabilize Button (Bottom-Center - Isolated Thumb Zone) -->
    <div class="fixed bottom-16 left-1/2 -translate-x-1/2 z-30 w-64 text-center">
        <div class="relative">
            <!-- Circular Progress SVG -->
            <svg class="absolute -inset-4 w-[calc(100%+2rem)] h-[calc(100%+2rem)]" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" fill="none" stroke="rgba(0, 255, 0, 0.1)" stroke-width="2" />
                <circle id="progress-circle" cx="50" cy="50" r="45" fill="none" stroke="#00FF00" stroke-width="2"
                    stroke-dasharray="283" stroke-dashoffset="283" transform="rotate(-90 50 50)"
                    class="transition-all duration-100" />
            </svg>

            <!-- Button -->
            <div class="relative border border-[#00FF00]/50 text-[#00FF00] px-8 py-4 rounded-full text-xs tracking-widest cursor-pointer select-none hover:bg-[#00FF00]/20 transition-all hover:shadow-[0_0_30px_rgba(0,255,0,0.3)]"
                id="stabilize-btn">
                HOLD TO STABILIZE
            </div>
        </div>
        <div class="text-center text-white/30 text-xs mt-4 font-mono">
            <span id="shape-indicator">● POINTS</span>
        </div>
    </div>

    <!-- Success Modal (Hidden) -->
    <div id="success-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-6">
        <div class="glassmorphic p-8 rounded-2xl max-w-md w-full text-center">
            <h2 class="text-2xl font-bold text-white mb-2 tracking-widest">NEURAL SYNC COMPLETE</h2>
            <div class="text-[#00FF00] font-mono text-sm mb-4" id="difficulty-conquered">DIFFICULTY CONQUERED: EASY
            </div>
            <div class="text-white/60 mb-8 text-sm" id="reward-unlocked">REWARD UNLOCKED: 10% OFF</div>

            <form id="unlock-form" action="https://api.web3forms.com/submit" method="POST" class="space-y-4">
                <input type="hidden" name="access_key" value="0b61ae93-ef3b-469b-882d-384f5016562a">
                <input type="hidden" name="subject" value="Neural Reactor - Code Unlocked">

                <input type="email" name="email" required placeholder="your@email.com"
                    class="w-full bg-black/50 border border-white/20 px-4 py-3 rounded-lg text-white placeholder-white/30 focus:border-[#00FF00] focus:outline-none transition-colors">

                <button type="submit"
                    class="w-full bg-[#00FF00] text-black px-6 py-3 rounded-lg font-bold tracking-widest hover:bg-white transition-all">
                    REVEAL CODE
                </button>
            </form>

            <div id="code-reveal" class="hidden">
                <div class="text-4xl font-mono font-bold text-[#00FF00] mb-4 animate-pulse" id="discount-code">
                    AGENT_10
                </div>
                <p class="text-white/60 text-sm" id="discount-description">10% off all AI architecture services</p>
                <a href="index.html"
                    class="inline-block mt-6 text-[#00FF00] hover:text-white transition-colors text-xs tracking-widest">
                    ← RETURN TO BASE
                </a>
            </div>
        </div>
    </div>

    <script src="/assets/js/reactor.js"></script>
</body>

</html>